<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="quitbutton" content="visibility:visible;" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--<link rel="stylesheet" href="./styles/jquery.mobile-1.1.1.css" />-->
		<link rel="stylesheet" href="./styles/e-midwife-custom-theme.css" />
		<link rel="stylesheet" href="./styles/jquery.mobile.structure-1.1.1.min.css" />

		<link type="text/css" href="./styles/jqm-datebox.min.css" rel="stylesheet" />
		<link type="text/css" href="./styles/jquery.mobile.simple.css" rel="stylesheet" />
		<link type="text/css" href="./styles/demos.css" rel="stylesheet" />
		<script src="./libs/jquery-1.8.2.js" type="text/javascript" charset="utf-8"></script>
		<script src="./libs/jquery.mobile-1.1.1.js" type="text/javascript" charset="utf-8"></script>
		<script src="./libs/knockout/knockout-2.1.0pre.js" type="text/javascript" charset="utf-8"></script>

		<script src="./libs/jqm-datebox.core.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="./libs/jquery.mobile.simpledialog.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="./libs/jquery.mousewheel.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="./libs/jqm-datebox.mode.slidebox.min.js" type="text/javascript" charset="utf-8"></script>

		<!--<script src="./src/bindings/profile-list.js" type="text/javascript"></script>-->

	</head>

	<body>
		<div data-role="page">

			<div data-role="header" data-position="fixed">
				<a href="" data-rel="back" data-ajax="false" data-theme="c">Back</a>

				<h1>m-Midwife</h1>
				<a href="index.html" data-theme="c" data-icon="home">Home</a>
			</div><!-- /header -->

			<div data-role="content">
				<ul data-role="listview" data-filter="true" data-filter-placeholder="Search family..." data-inset="true" data-theme="a" data-bind="foreach:familyProfile">
					<li data-filtertext="NASDAQ:Family">
						<a href="#family-profile" data-bind="text: family, click:$root.familyClicked"></a>
					</li>
				</ul>
			</div><!-- /content -->

			<div data-role="footer" data-position="fixed">
				<div data-role="navbar">
					<ul>
						<li>
							<a href="new-family.html" data-role="button" data-icon="plus" data-theme="c" data-ajax="false">Add</a>
						</li>
					</ul>
				</div><!-- /navbar -->
			</div>
		</div>

		<div data-role="page" id="family-profile">

			<div data-role="header" data-position="fixed">
				<a href="" data-rel="back" data-ajax="false" data-theme="c">Back</a>

				<h1>m-Midwife</h1>
				<a href="index.html" data-ajax="false" data-theme="c" data-icon="home">Home</a>

			</div><!-- /header -->

			<div data-role="content" id="list-content">
				<div class="ui-grid-a">
					<div class="ui-block-a" >
						<img class="ui-block-b"  style="border-radius: 0.6em; border: 3px solid #9A0000" id="Photo" src="./styles/icon/midwife.jpg" class="ui-li-icon" />
					</div>
					<strong for="name">Family Information</strong>
					<div class="ui-block-b" style="border-radius: 0.6em; padding-left: 5px; border: 3px solid #9A0000">
						<p>
							<strong for="name">Registration No:</strong>
							<span data-bind="text: regNo"></span>
						</p>
						<p>
							<strong for="name">Wife Name:</strong>
							<span data-bind="text: wife"></span>
						</p>
						<p>
							<strong for="name">Husband Name:</strong>
							<span data-bind="text: husband"></span>
						</p>
						<p>
							<strong for="name">Address:</strong>
							<span data-bind="text: address"></span>
						</p>
						<p>
							<strong for="name">Mother Date:</strong>
							<span data-bind="text: mdate"></span>
						</p>
					</div>
				</div>
				<div class="ui-grid-solo">
					<div class="ui-block-a">
						<strong for="name">Personal information about the Family</strong>
						<div id="averallStatus" name="averallStatus">
							<textarea id="info" readonly="true" name="info">1. 1st Parent's Nationality: Sri Lankan</textarea>																																												
					
						</div>
						<div data-role="collapsible-set" data-theme="a" data-content-theme="d" data-mini="true">
							<div data-role="collapsible">
								<h3>Pregnancies</h3>
								<p>
									<a href="mother-profile.html" rel="external" class="ui-link" data-bind="text: wife" data-ajax="false" data-theme="c"></a>
								</p>
							</div>
							<div data-role="collapsible">
								<h3>Children</h3>
								<p>
									<a href="baby-profile.html" rel="external" class="ui-link" data-bind="text: baby" data-ajax="false" data-theme="c">Ayesh Kumara</a>
								</p>
							</div>
							<div data-role="collapsible">
								<h3>Location</h3>
								<p>
									<a href="map.html" data-ajax="false" rel="external" class="ui-link" data-ajax="false" data-theme="c">Go to Location</a>
								</p>
							</div>
						</div>
					</div>
				</div>
			</div><!-- /content -->
			<div data-role="footer" data-position="fixed">
				<div data-role="navbar">
					<ul>
						<li>
							<a href="new-baby.html" data-ajax="false" data-theme="c">New Baby</a>
						</li>
						<li>
							<a href="new-pregnancy.html" data-ajax="false" data-theme="c">New Pregnancy</a>
						</li>
					</ul>
				</div><!-- /navbar -->
			</div>
		</div>
		<script type="text/javascript">
			function FamilyProfilesViewModel() {
				var self = this;

				this.familyProfile = ko.observableArray();
				this.regNo = ko.observable("Reg No");
				this.wife = ko.observable();
				this.husband = ko.observable();
				this.mdate = ko.observable();
				this.bdate = ko.observable();
				this.address = ko.observable();
				this.image = ko.observable();

				this.familyClicked = function(family) {
					console.log(family.id);
					self.regNo(family.id);
					self.wife(family.wife);
					self.husband(family.husband);
					self.mdate(family.mdate);
					self.bdate(family.bdate);
					self.address(family.address);
					self.image(family.image);
				};

				/*
				 * Initialization code:
				 * Get the employee list from server
				 */
				this.familyProfile = [{
					"id" : "01",
					"family" : "Senawiratne K.K.P.",
					"wife" : "Mallika",
					"husband" : "Saman",
					"mdate" : "2012-02-03",
					"bdate" : "1977-03-06",
					"address" : "No 54/1, Wijerama, Colombo",
					"image" : "./styles/icon/links.png"
				}, {
					"id" : "02",
					"family" : "Perera L.P.",
					"wife" : "Mallika",
					"husband" : "Mallika",
					"mdate" : "2012-02-03",
					"bdate" : "1977-03-06",
					"address" : "No 54/6, Samagi road, Colombo",
					"image" : "./styles/icon/news.png"
				}, {
					"id" : "03",
					"family" : "Ranaweera J.N.",
					"wife" : "Mallika",
					"husband" : "Mallika",
					"mdate" : "2012-02-03",
					"bdate" : "1977-03-06",
					"address" : "No 54/9, Samagi road, Colombo",
					"image" : "./styles/icon/news.png"
				}, {
					"id" : "04",
					"family" : "Unregistered",
					"wife" : "",
					"husband" : "",
					"mdate" : "",
					"bdate" : "",
					"address" : "",
					"image" : "./styles/icon/news.png"
				}]
			}


			ko.applyBindings(new FamilyProfilesViewModel());
		</script>
	</body>
</html>

