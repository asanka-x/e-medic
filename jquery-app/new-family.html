<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="quitbutton" content="visibility:visible;" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />

		<!--<link rel="stylesheet" href="./styles/jquery.mobile-1.1.1.css" />-->
		<link rel="stylesheet" href="./styles/e-midwife-custom-theme.css" />
		<link rel="stylesheet" href="./styles/jquery.mobile.structure-1.1.1.min.css" />
		<link type="text/css" href="./styles/jqm-datebox.min.css" rel="stylesheet" />
		<link type="text/css" href="./styles/jquery.mobile.simple.css" rel="stylesheet" />
		<link type="text/css" href="./styles/demos.css" rel="stylesheet" />

		<script src="./libs/jquery-1.8.2.js" type="text/javascript" charset="utf-8"></script>
		<script src="./libs/jquery.mobile-1.1.1.js" type="text/javascript" charset="utf-8"></script>

		<script src="./libs/jqm-datebox.core.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="./libs/jquery.mobile.simpledialog.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="./libs/jquery.mousewheel.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="./libs/jqm-datebox.mode.slidebox.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="./libs/knockout/knockout-2.1.0pre.js" type="text/javascript" charset="utf-8"></script>

		<!--Sinhala convention -->
		<script type="text/javascript" src="./libs/akuru/prefix.js"></script>
		<script type="text/javascript" src="./libs/akuru/unicodeSinhala.js"></script>
		<script type="text/javascript" src="./libs/akuru/tokenizer.js"></script>
		<script type="text/javascript" src="./libs/akuru/converters/legacyConverter.js"></script>
		<script type="text/javascript" src="./libs/akuru/vendors/htmlparser.js"></script>
		<script type="text/javascript" src="./libs/akuru/akuru.js"></script>
		<script type="text/javascript" src="./libs/akuru/loader.js"></script>

		<script type='text/javascript'>
			akuru.load('derana');
			// akuru.load('paras');
			//akuru.load('arjun');
			//akuru.load('paras');

			// akuru.ready(function() {
			// 	akuru.enable('#body', 'derana');
			// });
		</script>
	</head>

	<body>
		<div data-role="page" class='paras'>

			<div data-role="header" data-position="fixed">
				<a href="" data-rel="back" data-theme="c">ආපසු</a>

				<h1>m-Midwife</h1>

				<a href="index.html" data-theme="c" data-icon="home">Home</a>
			</div><!-- /header -->

			<div data-role="content">

				<form action="#" method="get">

					<div data-role="fieldcontain">
						<label for="wifeName">භර්යයාවගෙ නම</label>
						<input type="text" name="wifeName" id="wifeName" data-bind="value:wifeName" />
					</div>

					<div data-role="fieldcontain">
						<label for="husbandName">ස්වාමි පුරුෂයාගේ නම</label>
						<input type="text" name="husbandName" id="husbandName" data-bind="value:husbandName" />
					</div>

					<div data-role="fieldcontain">
						<label for="address">ලිපිනය</label>
						<textarea cols="40" rows="8" name="address" id="address" data-bind="value:address"></textarea>
					</div>

					<div data-role="fieldcontain">
						<label for="marriedAge">විවාහයේදී වයස</label>
						<input type="text" name="marriedAge" id="marriedAge" data-bind="value:marriedAge" />
					</div>

					<div data-role="fieldcontain">
						<label for="dobOfWife">භර්යයාවගෙ උපන්දිනය</label>
						<input name="dobOfWife" id="dobOfWife" type="text" data-role="datebox" data-options='{"mode":"slidebox", "useNewStyle":true}' data-bind="value:dobOfWife"/>
					</div>

					<div data-role="footer" data-position="fixed">
						<div data-role="navbar">
							<ul>
								<li>
									<a data-role="button" data-theme="c" data-bind="click:$root.familyClicked">අතුලත් කරන්න</a>
								</li>
							</ul>

						</div><!-- /navbar -->
					</div>
				</form>
			</div><!-- /page -->
		</div>
		<script type="text/javascript">
			var ViewModel = function() {
				var self = this;
				this.wifeName = ko.observable();
				this.husbandName = ko.observable();
				this.marriedAge = ko.observable();
				this.dobOfWife = ko.observable();
				this.address = ko.observable();

				this.familyClicked = function() {
					//alert("sdad");
					//db.insert('EligibleFamilyRegisterTb', { WifeName: self.wifeName, HusbundName: self.husbandName });
					
					var data = {
						"wifeName" : self.wifeName,
						"husbandName" : self.husbandName,
						"marriedAge" : self.marriedAge,
						"dobOfWife" : self.dobOfWife,
						"address" : self.address
					};

					$.post("/src/DataAccess/dummyServer", data, function(returnedData) {
						alert("SSSSS");
					});
				};

			};

			ko.applyBindings(new ViewModel());
		</script>
	</body>
</html>

